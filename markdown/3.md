# Клон Packman &mdash; стены и проходы лабиринта

Этот пример научит перемещать пакмана, и соединять перемещение с событиями ввода (нажатиями на клавиши-стрелки). Также мы разделим проект игры на два разных cpp-файла, один из которых будет содержать основной цикл игры, а другой &mdash; функции и константы, относящиеся к пакману. Пример к статье [доступен на github](../packman_3). Так он выглядит:

![скриншот](images/preview_packman_3.png)

## Деление мира на клетки

Клетка – это всего лишь квадратная область пикселей заданного размера. Вместо того, чтобы работать с картой, заданной изображением некоторого фиксированного размера, можно работать с массивом из номеров клеток, из которого можно выложить изображение карты любого размера, и вывести на экран только видимую (или потенциально видимую) часть карты. Также можно задать атрибуты каждой клетки и накладывать клетки друг на друга, что позволит сделать карты более динамичными.

## Лабиринт в Packman

В игре Packman игрок находится в лабиринте, заполненном пирогами. Он должен съесть все пироги и избежать столкновения с четырьмя призраками, которые его преследуют. Вы бы могли реализовать подобную игру, просто нарисовав лабиринт как монолитную картинку. И тогда вас ждут проблемы с проверкой столкновений игрока с пирогом, стеной или призраками.

Мы будем строить лабиринт из набора блоков. На данный момент обойдёмся всего двумя типами блоков: стенами и проходами. Впоследствии мы улучшим лабиринт, сделав блоки более разнообразными, как в иллюстрации:

![Иллюстрация](images/PacMan.gif)

Другой хороший пример эффективного применения клетчатых карт &mdash; аркады и платформеры. Карты в таких игра строятся из нескольких базовых блоков (платформы, стенки, составные объекты, телепортеры и так далее). Использование двумерных полей позволит сильно сэкономить память и упростит реализацию проверок на столкновения.

